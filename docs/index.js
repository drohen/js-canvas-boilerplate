function w(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function y(r,e,o){return o={path:e,exports:{},require:function(n,t){return j(n,t??o.path)}},r(o,o.exports),o.exports}function j(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var O=y(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var o;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(o||(o={}));function n(t,s,i){if(!i||typeof i.value!==o.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+s+"> is not a method!");return{configurable:o.boolTrue,get:function(){var d=i.value.bind(this);return Object.defineProperty(this,s,{value:d,configurable:o.boolTrue,writable:o.boolTrue}),d}}}e.bind=n,e.default=n}),g=w(O),p=g;var P=Object.defineProperty,C=Object.getOwnPropertyDescriptor,b=(r,e,o,n)=>{for(var t=n>1?void 0:n?C(e,o):e,s=r.length-1,i;s>=0;s--)(i=r[s])&&(t=(n?i(e,o,t):i(t))||t);return n&&t&&P(e,o,t),t},c=class extends HTMLElement{constructor(e,o){super();this.tag=e,this.onMount=o,this.isDefined=!1,this.stylesheets=[];let t=this.getTemplate().content;this.attachShadow({mode:"open"}).appendChild(t.cloneNode(!0)),this.registerStylesheet("main.css"),customElements.whenDefined(this.tag).then(()=>{this.isDefined=!0,this.onMount(this);for(let s of this.stylesheets)this.setStylesheet(s);this.onDefined()})}getTemplate(){let e=document.getElementById(this.tag);if(!e)throw Error(`No element ${this.tag}`);if(!(e instanceof HTMLTemplateElement))throw Error("Element is not a template");return e}setStylesheet(e){let o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),this.shadowRoot?.appendChild(o)}registerStylesheet(e){this.isDefined?this.setStylesheet(e):this.stylesheets.push(e)}onDefined(){}};b([p],c.prototype,"setStylesheet",1);b([p],c.prototype,"registerStylesheet",1);function f(r,e){return o=>{customElements.define(r,o,e)}}var x=Object.defineProperty,D=Object.getOwnPropertyDescriptor,E=(r,e,o,n)=>{for(var t=n>1?void 0:n?D(e,o):e,s=r.length-1,i;s>=0;s--)(i=r[s])&&(t=(n?i(e,o,t):i(t))||t);return n&&t&&x(e,o,t),t},u=class extends c{constructor(r){super("ui-block",r)}next(r){this.textContent=r}};u=E([f("ui-block")],u);var l=class{next(e){this.subscriber?.next?.(e)}complete(){this.subscriber?.complete?.()}error(e){this.subscriber?.error?.(e)}subscribe(e){this.subscriber=e}};var I=Object.defineProperty,S=Object.getOwnPropertyDescriptor,U=(r,e,o,n)=>{for(var t=n>1?void 0:n?S(e,o):e,s=r.length-1,i;s>=0;s--)(i=r[s])&&(t=(n?i(e,o,t):i(t))||t);return n&&t&&I(e,o,t),t},a=class extends c{constructor(r){super("ui-button",r);this.onClick=new l}onDefined(){let r=this.shadowRoot?.querySelector("button");if(!r)throw Error("No button");r.addEventListener("click",()=>{this.onClick.next()})}};a=U([f("ui-button")],a);var T=Object.defineProperty,B=Object.getOwnPropertyDescriptor,M=(r,e,o,n)=>{for(var t=n>1?void 0:n?B(e,o):e,s=r.length-1,i;s>=0;s--)(i=r[s])&&(t=(n?i(e,o,t):i(t))||t);return n&&t&&T(e,o,t),t},h=class extends l{constructor(){super()}loadComponent(e){this.isUIComponent(e)&&this.next(e)}isUIComponent(e){return!![u,a].find(t=>e instanceof t)}load(){let e=document.createElement("main"),o=new a(this.loadComponent);e.appendChild(o),document.body.appendChild(e),o.onClick.subscribe({next:()=>{let n=new u(this.loadComponent);e.appendChild(n)}})}};M([p],h.prototype,"loadComponent",1);var L=Object.defineProperty,H=Object.getOwnPropertyDescriptor,_=(r,e,o,n)=>{for(var t=n>1?void 0:n?H(e,o):e,s=r.length-1,i;s>=0;s--)(i=r[s])&&(t=(n?i(e,o,t):i(t))||t);return n&&t&&L(e,o,t),t},v=class{static run(){new v}constructor(){this.components=[],this.uiLoader=new h,this.uiLoader.subscribe(this),this.uiLoader.load(),this.update(performance.now())}update(r){for(let e of this.components)e instanceof u&&e.next(String(~~(r*1e5)));requestAnimationFrame(this.update)}next(r){this.components.push(r)}},m=v;_([p],m.prototype,"update",1);_([p],m.prototype,"next",1);m.run();
/*
 web-component-decorator 1.1.0
 @copyright 2020 Edwin Martin
 @license MIT
 */
